<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Magazine Viewer</title>
  <link rel="stylesheet" href="./nav.css">
  <link rel="stylesheet" href="./pdf.css">
  <style>
    /* ========== åŸºç¡€é‡ç½®ä¸å¸ƒå±€ ========== */
    html, body {
      margin: 0;
      height: 100%;
    }
    *, *::before, *::after {
      box-sizing: border-box;
    }
    body {
      display: flex;
      flex-direction: column;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Open Sans", sans-serif;
      background: #fff;
      color: #000;
    }
    h1, h2, h3, p, ul, li, a {
      margin: 0;
      padding: 0;
      list-style: none;
      text-decoration: none;
      color: inherit;
    }
    /* ========== ä¸»ä½“ä¸é¡µè„š ========== */
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding-top: 44px;
      overflow: auto;
      transition: filter 0.4s ease-out;
    }
    /* Toggle switch styling */
    .mode-toggle, .spread-toggle {
      position: relative;
      display: inline-block;
      width: 60px; /* ç¼©å°å®½åº¦ */
      height: 20px; /* ç¼©å°é«˜åº¦ */
    }
    .mode-toggle input, .spread-toggle input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 20px;
      font-size: 10px; /* ç¼©å°å­—ä½“ */
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 8px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 16px; /* ç¼©å°æ»‘å—é«˜åº¦ */
      width: 28px; /* ç¼©å°æ»‘å—å®½åº¦ */
      left: 2px;
      bottom: 2px;
      background-color: white;
      transition: .4s;
      border-radius: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    input:checked + .slider {
      background-color: #0071e3;
    }
    input:checked + .slider:before {
      transform: translateX(19px); /* è°ƒæ•´æ»‘å—ç§»åŠ¨è·ç¦» */
    }
    /* é»˜è®¤éšè—æ ‡ç­¾ */
    .slider .label-left, .slider .label-right {
      opacity: 0;
      transition: opacity .4s ease;
    }
    /* èœå•æ ·å¼ */
    .settings-menu {
      position: absolute;
      top: 50px;
      right: 10px;
      background: rgba(255, 255, 255, 0.9);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      border: 1px solid #e5e5e5;
      border-radius: 30px;
      padding: 12px;
      display: none;
      z-index: 1002;
      width: 200px;
      opacity: 0.8;
    }
    .settings-menu.open {
      display: block;
    }
    .menu-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      margin-top: 10px;
      font-size: 12px;
    }
    .menu-item label {
      margin: 0;
    }
    .menu-item span {
      margin-right: 10px;
    }
    .settings-button {
      cursor: pointer;
      font-size: 20px;
      color: #666;
    }
    .settings-button:hover {
      color: #0071e3;
    }
    /* æš—è‰²æ¨¡å¼è°ƒæ•´ */
    @media (prefers-color-scheme: dark) {
      .slider {
        background-color: #555;
      }
      input:checked + .slider {
        background-color: #4da0ff;
      }
      .slider:before {
        background-color: #1c1c1e;
      }
      #loading-indicator {
        color: #aaa;
      }
      body {
        background: #1c1c1e;
        color: #fff;
      }
      .settings-menu {
        background: rgba(0,0,0,0.9);
        border: 1px solid #333;
      }
    }
  </style>
  <!-- Dependencies for PDF and Flipbook -->
  <script src="pdfjs/jquery-3.4.1.min.js"></script>
  <script src="pdfjs/pdf.min.js"></script>
  <script src="pdfjs/turn.min.js"></script>
</head>
<body>
  <header>
    <div class="logo">ï£¿</div>
    <nav>
      <ul>
        <li>
          <a href="#" class="active">Home</a>
          <div class="submenu">
            <div class="submenu-content">
              <div class="submenu-column">
                <h3>Our Works</h3>
                <ul>
                  <li><a href="#">ç¤¾åˆŠ RE:01</a></li>
                  <li><a href="#">ç¤¾åˆŠ RE:02</a></li>
                  <li><a href="#">ç¤¾åˆŠ RE:03</a></li>
                </ul>
              </div>
              <div class="submenu-column">
                <h3>About us</h3>
                <ul>
                  <li><a href="#">ç¤¾å›¢ä»‹ç»</a></li>
                  <li><a href="#">äººå‘˜ä»‹ç»</a></li>
                  <li><a href="#">ç¼–å¹´å²</a></li>
                </ul>
              </div>
              <div class="submenu-column">
                <h3>Support us</h3>
                <ul>
                  <li><a href="#">Mac Support</a></li>
                  <li><a href="#">AppleCare+ for Mac</a></li>
                  <li><a href="#">macOS Tahoe 26 Preview</a></li>
                  <li><a href="#">Apple Intelligence</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="overlay"></div>
        </li>
        <li><a href="#">Today / è¿‘æœŸæ´»åŠ¨</a></li>
        <li><a href="#">Animate / æ”¾æ˜ </a></li>
        <li><a href="#">Comic / ç»˜ç”»</a></li>
        <li><a href="#">Game / æ—®æ—¯ç»™æœ¨åˆ¶ä½œ</a></li>
        <li><a href="#">Novel / æŠ•ç¨¿</a></li>
        <li><a href="#">å¾€æœŸæ´»åŠ¨</a></li>
        <li><a href="#">Routine</a></li>
      </ul>
    </nav>
    <div class="icons">
      <a href="#">ğŸ”</a>
      <a href="#">ğŸ›’</a>
      <div class="settings-button">â‹¯</div>
      <button class="mobile-menu-toggle" aria-label="Toggle menu">â˜°</button>
    </div>
      <div class="settings-menu" id="settings-menu">
        <div class="menu-item">
          <span>&nbsp;&nbsp;&nbsp;åˆ‡æ¢æ¨¡å¼</span>
          <label class="mode-toggle">
            <input type="checkbox" id="mode-switch" checked>
            <span class="slider">
              <span class="label-left">Flip</span>
              <span class="label-right">Novel</span>
            </span>
          </label>
        </div>
        <div class="menu-item" id="spread-toggle-item">
          <span>&nbsp;&nbsp;&nbsp;åˆ‡æ¢è·¨é¡µæ˜¾ç¤º</span>
          <label class="spread-toggle">
            <input type="checkbox" id="spread-switch" checked>
            <span class="slider">
              <span class="label-left">è·¨é¡µ</span>
              <span class="label-right">å•é¡µ</span>
            </span>
          </label>
        </div>
      </div>
    </div>
  </header>
      <!-- èƒŒæ™¯è’™å±‚ï¼Œç”¨äºæ¨¡ç³Šä¸»ä½“ -->
  <div class="overlay" id="overlay"></div>
<!-- Mobile Menu -->
  <div class="mobile-menu" id="mobile-menu">
    <ul>
      <li>
        <a href="#" class="active" onclick="toggleMobileSubmenu(event, 'home-submenu')">Home</a>
        <div id="home-submenu" class="mobile-submenu">
          <div>
            <h3>Our Works</h3>
            <ul>
              <li><a href="#">ç¤¾åˆŠ RE:01</a></li>
              <li><a href="#">ç¤¾åˆŠ RE:02</a></li>
              <li><a href="#">ç¤¾åˆŠ RE:03</a></li>
            </ul>
          </div>
          <div>
            <h3>About us</h3>
            <ul>
              <li><a href="#">ç¤¾å›¢ä»‹ç»</a></li>
              <li><a href="#">äººå‘˜ä»‹ç»</a></li>
              <li><a href="#">ç¼–å¹´å²</a></li>
            </ul>
          </div>
          <div>
            <h3>Support us</h3>
            <ul>
              <li><a href="#">Mac Support</a></li>
              <li><a href="#">AppleCare+ for Mac</a></li>
              <li><a href="#">macOS Tahoe 26 Preview</a></li>
              <li><a href="#">Apple Intelligence</a></li>
            </ul>
          </div>
        </div>
      </li>
      <li><a href="#">Today / è¿‘æœŸæ´»åŠ¨</a></li>
      <li><a href="#">Animate / æ”¾æ˜ </a></li>
      <li><a href="#">Comic / ç»˜ç”»</a></li>
      <li><a href="#">Game / æ—®æ—¯ç»™æœ¨åˆ¶ä½œ</a></li>
      <li><a href="#">Novel / æŠ•ç¨¿</a></li>
      <li><a href="#">å¾€æœŸæ´»åŠ¨</a></li>
      <li><a href="#">Routine</a></li>
    </ul>
  </div>
  <main id="content">
    <div id="viewer-container">
      <div id="loading-indicator">Loading PDF...</div>
      <div id="flipbook-container">
        <div id="flipbook"></div>
      </div>
      <div id="traditional-container"></div>
      <div id="pdf-error"></div>
    </div>
    <div id="page-number-indicator"></div>
    <div id="page-jump-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <span id="total-pages-display"></span>
      <label for="jump-page-input">Jump to:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <input type="number" id="jump-page-input" min="1" placeholder="è¾“å…¥é¡µç ">
      <label for="jump-page-input">&nbsp;</label>
      <button id="jump-confirm">è·³è½¬</button>
    </div>
  </div>
  </main>
<script>
  // PDF path
  const pdfPath = 'magazine/RE3.pdf';
  let currentScale = 1;
  const crossPages = [];

  const errorDiv = document.getElementById('pdf-error');
  const loadingIndicator = document.getElementById('loading-indicator');
  const modeSwitch = document.getElementById('mode-switch');
  const spreadSwitch = document.getElementById('spread-switch');
  const flipContainer = document.getElementById('flipbook-container');
  const traditionalContainer = document.getElementById('traditional-container');
  const mainContent = document.querySelector('main');
  const settingsButton = document.querySelector('.settings-button');
  const settingsMenu = document.getElementById('settings-menu');
  const spreadToggleItem = document.getElementById('spread-toggle-item');
  const pageIndicator = document.getElementById('page-number-indicator');
  const pageJumpModal = document.getElementById('page-jump-modal');
  const jumpPageInput = document.getElementById('jump-page-input');
  const jumpConfirm = document.getElementById('jump-confirm');
  const closeModal = document.querySelector('.close-modal');
  const totalPagesDisplay = document.getElementById('total-pages-display');
  let currentPage = 1;
  let totalPages = 0;


  function updatePageIndicator() {
    if (totalPages > 0) {
      pageIndicator.textContent = `${currentPage} / ${totalPages}`;
      totalPagesDisplay.textContent = totalPages;
      pageIndicator.style.display = 'block';
    }
  }

  function debounce(func, delay) {
    let timeout;
    return function() {
      clearTimeout(timeout);
      timeout = setTimeout(func, delay);
    };
  }

  function getVisiblePageInTraditional() {
    const canvases = traditionalContainer.querySelectorAll('canvas');
    const containerRect = traditionalContainer.getBoundingClientRect();
    for (let i = 0; i < canvases.length; i++) {
      const canvasRect = canvases[i].getBoundingClientRect();
      if (canvasRect.top >= containerRect.top && canvasRect.top < containerRect.top + containerRect.height) {
        return i + 1;
      }
    }
    return 1;
  }

  // Function to toggle blur on main content
  function toggleBlur(isBlurred) {
    mainContent.classList.toggle('blur', isBlurred);
  }
  function jumpToPage(pageNum) {
    if (pageNum < 1 || pageNum > totalPages) {
      alert('æ— æ•ˆé¡µç ï¼');
      return;
    }
    currentPage = pageNum;
    const mode = modeSwitch.checked ? 'flip' : 'traditional';
    if (mode === 'flip') {
      const flipbook = $('#flipbook');
      flipbook.turn('page', pageNum); // Turn.js è·³è½¬
    } else {
      const canvases = traditionalContainer.querySelectorAll('canvas');
      if (canvases[pageNum - 1]) {
        const targetCanvas = canvases[pageNum - 1];
        const offset = targetCanvas.offsetTop; // è®¡ç®—é¡¶éƒ¨åç§»
        traditionalContainer.scrollTop = offset; // æ»šåŠ¨åˆ°æŒ‡å®šé¡µé¢
      }
    }
    updatePageIndicator();
    totalPagesDisplay.textContent = totalPages;
  }

  // Function to load PDF with scale
  async function loadPDF(mode) {
      errorDiv.textContent = '';
      pageIndicator.style.display = 'none';
      loadingIndicator.style.display = 'block';
      try {
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'pdfjs/pdf.worker.min.js';
        const loadingTask = pdfjsLib.getDocument({url:pdfPath,disableRange: true});
        const pdf = await loadingTask.promise;
        totalPages = pdf.numPages;
        console.log('PDF has', pdf.numPages, 'pages');

        if (mode === 'flip') {
          const flipbook = $('#flipbook');
          if (!$.fn.turn) {
            throw new Error('Turn.js is not loaded');
          }
          if (flipbook.length === 0) {
            throw new Error('Flipbook element not found');
          }
          if (flipbook.data('turn')) {
            flipbook.turn('destroy');
          }
          flipbook.empty();
          flipbook.css({ transform: 'scale(1)' }); // é‡ç½®ç¼©æ”¾

          let pageW, pageH;
          for (let i = 1; i <= pdf.numPages; i++) {
            const page = await pdf.getPage(i);
            const viewport = page.getViewport({ scale: currentScale * 2});

            if (i === 1) {
              pageW = viewport.width/2;
              pageH = viewport.height/2;
              // åŠ¨æ€ç»‘å®šé«˜åº¦åˆ° viewport.heightï¼ˆå•é¡µé«˜åº¦ï¼‰
              flipContainer.style.height = `${pageH}px`; // è®¾ç½® #flipbook-container é«˜åº¦
            }

            const pageDiv = $('<div class="page"></div>');
            pageDiv.css({ width: viewport.width / 2, height: viewport.height / 2 });

            const canvas = document.createElement('canvas');
            canvas.height = viewport.height;
            canvas.width = viewport.width;
            canvas.style.width = `${viewport.width / 2}px`;  // æ·»åŠ  CSS å®½åº¦
            canvas.style.height = `${viewport.height / 2}px`;  // æ·»åŠ  CSS é«˜åº¦
            const context = canvas.getContext('2d');
            await page.render({ canvasContext: context, viewport });
            pageDiv.append(canvas);
            flipbook.append(pageDiv);
          }

          // è®¡ç®—ä¹¦æœ¬å°ºå¯¸ï¼ˆåŒé¡µå®½åº¦ï¼Œå•é¡µé«˜åº¦ï¼‰
          const bookW = 2 * pageW;
          const bookH = pageH;

          // è·å–å®¹å™¨å®½åº¦ï¼ˆç”¨äºç¼©æ”¾è®¡ç®—ï¼‰
          const containerW = viewerContainer.clientWidth;
          const containerH = viewerContainer.clientHeight; // ä½†ç°åœ¨é«˜åº¦ç”± JS è®¾ç½®ä¸º pageH

          // è®¡ç®—ç¼©æ”¾å› å­ï¼šä»…ç¼©å°ä»¥é€‚åº”ï¼ˆä¸è¶…è¿‡1ï¼‰ï¼Œä¿æŒæ¯”ä¾‹
          const scaleFactor = Math.min(1, containerW / bookW, containerH / bookH);

          // åº”ç”¨ç¼©æ”¾
          flipbook.css({ transform: `scale(${scaleFactor})` });

          flipbook.turn({
            width: bookW,  
            height: bookH, 
            autoCenter: true,
            display: 'double',
            duration: 600,
            acceleration: true,
            gradients: true
          });
          flipbook.bind('turned', function(event, page) {
            currentPage = page;
            updatePageIndicator();
          });
          currentPage = 1;
          updatePageIndicator();
        } else {
          traditionalContainer.innerHTML = '';
          traditionalContainer.classList.toggle('single-page', !spreadSwitch.checked);
          const columns = spreadSwitch.checked ? 2 : 1;
          traditionalContainer.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;

          for (let i = 1; i <= pdf.numPages; i++) {
            const page = await pdf.getPage(i);
            const viewport = page.getViewport({ scale: currentScale * 2 });

            const canvas = document.createElement('canvas');
            canvas.height = viewport.height;
            canvas.width = viewport.width;
            canvas.style.width = `${viewport.width / 2}px`; // é€»è¾‘åƒç´ å®½åº¦
            canvas.style.height = `${viewport.height / 2}px`; // é€»è¾‘åƒç´ é«˜åº¦
            const context = canvas.getContext('2d');
            await page.render({ canvasContext: context, viewport });
            traditionalContainer.appendChild(canvas);
          }
          // ... (é¡µé¢æ¸²æŸ“ for å¾ªç¯ç»“æŸå)
          traditionalContainer.removeEventListener('scroll', debouncedScrollHandler); // å·²å­˜åœ¨
          traditionalContainer.addEventListener('scroll', debouncedScrollHandler); // å·²å­˜åœ¨

          // æ–°å¢ï¼šå¼ºåˆ¶æ»šåŠ¨åˆ°é¡¶éƒ¨å¹¶åˆå§‹æ›´æ–°ï¼ˆä¿®å¤å•é¡µæ¨¡å¼ä¸æ˜¾ç¤ºï¼‰
          traditionalContainer.scrollTop = 0;
          currentPage = 1;
          updatePageIndicator();
                    
        }
      } catch (err) {
        console.error('PDF loading failed:', err.name, err.message, err.stack);
        errorDiv.textContent = `Failed to load PDF: ${err.message || 'Unknown error'}. Ensure Turn.js is loaded and check path '${pdfPath}'.`;
      } finally {
        loadingIndicator.style.display = 'none';
      }
    }
  const debouncedScrollHandler = debounce(() => {
    currentPage = getVisiblePageInTraditional();
    updatePageIndicator();
  }, 100);
  // Mode switching
  function switchMode() {
    const mode = modeSwitch.checked ? 'flip' : 'traditional';
    flipContainer.style.display = mode === 'flip' ? 'block' : 'none';
    traditionalContainer.style.display = mode === 'traditional' ? 'grid' : 'none';
    spreadToggleItem.style.display = mode === 'flip' ? 'none' : 'flex';
    loadPDF(mode);
  }

  function switchSpread() {
    if (!modeSwitch.checked) { // Only in Novel mode
      const isSpread = spreadSwitch.checked;
      traditionalContainer.classList.toggle('single-page', !isSpread);
      traditionalContainer.style.gridTemplateColumns = isSpread ? 'repeat(2, 1fr)' : '1fr'; // åŠ¨æ€è®¾ç½®åˆ—
      traditionalContainer.innerHTML = ''; // æ¸…ç©ºæ—§å†…å®¹ï¼Œé¿å…æ®‹ç•™
      loadPDF('traditional'); // Re-render
    }
  }

// äº‹ä»¶ç»‘å®šéƒ¨åˆ†ï¼šåŒ…è£¹åœ¨ DOMContentLoaded ä¸­
document.addEventListener('DOMContentLoaded', () => {
  const modalContent = document.querySelector('.modal-content'); // ç¡®ä¿å£°æ˜

  // ç‚¹å‡»é¡µç æŒ‡ç¤ºå™¨æ˜¾ç¤ºæ¨¡æ€æ¡†
  pageIndicator.addEventListener('click', () => {
    console.log('Page indicator clicked! totalPages:', totalPages); // è°ƒè¯•
    if (totalPages > 0) {
      // åŠ¨æ€è®¾ç½®ä½ç½®ï¼šæ¨¡æ€å†…å®¹ç›¸å¯¹äºé¡µç 
      const indicatorRect = pageIndicator.getBoundingClientRect();
      modalContent.style.top = `${indicatorRect.bottom + window.scrollY}px`; // ä¸‹æ–¹
      modalContent.style.left = `${indicatorRect.left + window.scrollX}px`; // å·¦å¯¹é½

      pageJumpModal.classList.add('active'); // æ¿€æ´»é®ç½©
      pageJumpModal.style.display = 'block';
      modalContent.classList.remove('slide-out'); // ç§»é™¤æ”¶å›çŠ¶æ€
      modalContent.classList.add('slide-in'); // è§¦å‘æ»‘å‡ºåŠ¨ç”»
      jumpPageInput.value = currentPage;
      jumpPageInput.focus();
    }
  });

  // å…³é—­æ¨¡æ€æ¡†
  closeModal.addEventListener('click', closeModalWithAnimation);

  // ç‚¹å‡»å¤–éƒ¨å…³é—­
  window.addEventListener('click', (e) => {
    if (e.target === pageJumpModal) {
      closeModalWithAnimation();
    }
  });

  // ç¡®è®¤è·³è½¬
  jumpConfirm.addEventListener('click', () => {
    const pageNum = parseInt(jumpPageInput.value, 10);
    jumpToPage(pageNum);
    closeModalWithAnimation();
  });

  // å›è½¦é”®ç¡®è®¤
  jumpPageInput.addEventListener('keyup', (e) => {
    if (e.key === 'Enter') {
      const pageNum = parseInt(jumpPageInput.value, 10);
      jumpToPage(pageNum);
      closeModalWithAnimation();
    }
  });

  // å…³é—­åŠ¨ç”»å‡½æ•°
  function closeModalWithAnimation() {
    modalContent.classList.remove('slide-in');
    modalContent.classList.add('slide-out');
    pageJumpModal.classList.remove('active');
    setTimeout(() => {
      pageJumpModal.style.display = 'none';
      modalContent.classList.remove('slide-out'); // é‡ç½®
    }, 300); // 0.3s ä¸ CSS åŠ¨ç”»æ—¶é—´åŒ¹é…
  }
});
  // Zoom handling
  function adjustZoom(delta) {
    currentScale = Math.min(Math.max(currentScale + delta, 1.0), 3.0);
    const mode = modeSwitch.checked ? 'flip' : 'traditional';
    loadPDF(mode); // Re-render with new scale
  }

  // Keyboard zoom
  document.addEventListener('keydown', (e) => {
    if (e.metaKey) { // Command key
      if (e.key === '+') {
        adjustZoom(0.2);
      } else if (e.key === '-') {
        adjustZoom(-0.2);
      }
    }
  });

  // Touch zoom (pinch)
  let initialDistance = 0;
  const viewerContainer = document.getElementById('viewer-container');
  viewerContainer.addEventListener('touchstart', (e) => {
    if (e.touches.length === 2) {
      initialDistance = Math.hypot(
        e.touches[0].pageX - e.touches[1].pageX,
        e.touches[0].pageY - e.touches[1].pageY
      );
    }
  });
  viewerContainer.addEventListener('touchmove', (e) => {
    if (e.touches.length === 2) {
      const currentDistance = Math.hypot(
        e.touches[0].pageX - e.touches[1].pageX,
        e.touches[0].pageY - e.touches[1].pageY
      );
      const delta = (currentDistance - initialDistance) / 1000;
      adjustZoom(delta);
      initialDistance = currentDistance;
    }
  });

  // Settings menu toggle
  settingsButton.addEventListener('click', () => {
    settingsMenu.classList.toggle('open');
  });
  document.addEventListener('click', (e) => {
    if (!settingsButton.contains(e.target) && !settingsMenu.contains(e.target)) {
      settingsMenu.classList.remove('open');
    }
  });

  // Add hover event to toggle blur
  const navItems = document.querySelectorAll('nav ul li');
  navItems.forEach(item => {
    item.addEventListener('mouseenter', () => toggleBlur(true));
    item.addEventListener('mouseleave', () => toggleBlur(false));
  });

  modeSwitch.addEventListener('change', switchMode);
  spreadSwitch.addEventListener('change', switchSpread);

  // Initial load
  switchMode();
</script>
<script>
  const mobileToggle = document.querySelector('.mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  // Mobile Menu Toggle
    mobileToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('active');
      if (mobileMenu.classList.contains('active')) {
        overlay.classList.add('active');
        content.classList.add('blur');
      } else {
        overlay.classList.remove('active');
        content.classList.remove('blur');
      }
    });

    // Toggle Mobile Submenu
    function toggleMobileSubmenu(event, id) {
      event.preventDefault();
      const submenu = document.getElementById(id);
      submenu.classList.toggle('active');
    }
  </script>
</body>
</html>
